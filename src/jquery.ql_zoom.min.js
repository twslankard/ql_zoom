$.fn.imagesLoaded=function(b){var g=this.filter("img"),c=g.length;g.bind("load",function(){--c<=0&&b.call(g,this)}).each(function(){if(this.complete||this.complete===undefined){var n=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=n}});return this};
(function(b,g){var c=b.jQuery||b.Cowboy||(b.Cowboy={}),n;c.throttle=n=function(l,h,d,k){function e(){function j(){m=+new Date;d.apply(p,u)}function q(){f=g}var p=this,r=+new Date-m,u=arguments;k&&!f&&j();f&&clearTimeout(f);if(k===g&&r>l)j();else if(h!==true)f=setTimeout(k?q:j,k===g?l-r:l)}var f,m=0;if(typeof h!=="boolean"){k=d;d=h;h=g}if(c.guid)e.guid=d.guid=d.guid||c.guid++;return e};c.debounce=function(l,h,d){return d===g?n(l,h,false):n(l,d,h!==false)}})(this);
(function(b){b.fn.ql_zoom=function(g){var c=b.extend({},b.fn.ql_zoom.defaultOptions,g);return this.each(function(){function n(o){var i,a;a=s;i=t;o=[o.pageX-d.left-~~(a/2),o.pageY-d.top-~~(i/2)];f.css({left:o[0]+"px",top:o[1]+"px"});i=f.position();var v,w,x,y,z;a=i.left*q/r+s/2;i=i.top*p/u+t/2;v=s;w=t;x=0;y=s*2;z=t;if(a>q-s){v=q-a;y=v*2}if(i>p-t)z=w=p-i;if(a<0){x=Math.abs(a);a=0}if(i<0)i=0;a=[~~a,~~i,~~v,~~w,~~x,0,~~y,~~z];A.html("sx = "+a[0]+", sy ="+a[1]+", sW = "+a[2]+", sH ="+a[3]+", dx = "+a[4]+
", dy ="+a[5]+", dW = "+a[6]+", dH ="+a[7]+", pageX ="+o[0]+", pageY ="+o[1]);try{h.clearRect(0,0,400,400);h.drawImage(m[0],a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7])}catch(B){console.dir(B)}}function l(){e.mouseenter(function(){f.fadeIn(c.speed)}).mouseleave(function(){f.fadeOut(c.speed)}).mousemove(b.throttle(c.throttle,n));b(window).resize(function(){d=e.offset()})}var h,d,k=(new Date).getTime(),e=b(this),f=b("<canvas>",{id:"viewer"+k,style:c.canvas_style}),m,j,q,p,r,u,s=parseInt(c.width,10),t=parseInt(c.height,
10),A=b("#output");(function(){if(/IMG/.test(b(this)[0].nodeName)===true){e.wrapAll(b("<div>",{id:"ql_zoom_"+k,"class":"ql_zoom_container"}));e=b("#ql_zoom_"+k)}j=e.find("img").first();u=j.height();r=j.width();m=b("<img>",{src:j.data("url")?j.data("url"):j.attr("src"),style:"display:none;"}).appendTo(e);m.imagesLoaded(function(){p=m.height();q=m.width()});f.appendTo(e);f.css({width:c.width,height:c.height});/static/.test(void 0)&&e.css("position","relative");e.css({overflow:"hidden",cursor:c.pointer});
d=e.offset();h=f.get()[0].getContext("2d");l()})()})};b.fn.ql_zoom.defaultOptions={width:"200px",height:"200px",speed:"800",throttle:50,pointer:"crosshair",canvas_style:"display:none; position:absolute; border:1px solid #444;"}})(jQuery);
